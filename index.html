<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ö‡∏≤‡∏£‡πå‡πÇ‡∏Ñ‡πâ‡∏î</title>
    <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.0/dist/JsBarcode.all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrious@4.0.2/dist/qrious.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            font-family: 'Kanit', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #78C1E5, #5A9FD6, #3A7D7C);
            position: relative;
        }
        .container {
            background: rgba(255, 255, 255, 0.95);
            padding: 50px 30px 30px;
            border-radius: 15px;
            box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.2);
            text-align: center;
            width: 90%;
            max-width: 600px;
            box-sizing: border-box;
            min-height: 500px;
            position: relative;
        }
        .header {
            position: absolute;
            top: 10px;
            right: 20px;
            text-align: right;
            line-height: 1.2;
        }
        .header h1 {
            font-size: 18px;
            font-weight: 500;
            margin: 0;
            color: #333;
            white-space: nowrap;
        }
        .header h2 {
            font-size: 12px;
            font-weight: 400;
            margin: 0;
            color: #555;
            white-space: nowrap;
        }
        .form-group {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            margin: 15px 0;
            padding-left: 10px;
        }
        label {
            font-size: 18px;
            font-weight: 500;
            color: #333;
            flex: 1;
            text-align: right;
            padding-right: 15px;
            min-width: 140px;
            white-space: nowrap;
        }
        input, select {
            flex: 2;
            padding: 10px;
            font-size: 18px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box;
        }
        .button-container {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        button {
            background: linear-gradient(135deg, #78C1E5, #5A9FD6);
            color: white;
            border: none;
            padding: 12px;
            font-size: 18px;
            border-radius: 8px;
            cursor: pointer;
            transition: 0.3s;
            flex: 1;
            margin: 8px;
        }
        button:hover {
            background: linear-gradient(135deg, #5A9FD6, #78C1E5);
        }
        #barcodeContainer {
            margin-top: 25px;
            padding: 25px;
            background: #f2f2f2;
            border-radius: 10px;
            box-shadow: 0px 3px 10px rgba(0, 0, 0, 0.2);
            border: 2px solid #333;
            width: 100%;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            overflow: hidden;
        }
        #barcode {
            max-width: 100%;
            max-height: 100%;
        }
        #qrcode {
            display: block;
            margin: 15px auto 0 auto;
        }
        .footer {
            margin-top: 30px;
            font-size: 16px;
            color: #333;
        }
        /* --- LOGIN MODAL: Beautiful, clear and modern --- */
        .modal {
            display: flex;
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100vw;
            height: 100vh;
            justify-content: center;
            align-items: center;
            background: rgba(52, 64, 84, 0.13);
            backdrop-filter: blur(2px);
        }
        .modal-content {
            background: #fff;
            border-radius: 15px;
            padding: 35px 28px 25px 28px;
            box-shadow: 0 6px 32px rgba(90,159,214,0.15);
            min-width: 320px;
            max-width: 95vw;
            text-align: center;
            border: 1px solid #e0e6ed;
            position: relative;
            animation: fadeInModal 0.45s cubic-bezier(.77,0,.18,1.01);
        }
        @keyframes fadeInModal {
            from { opacity: 0; transform: translateY(30px);}
            to   { opacity: 1; transform: none;}
        }
        .modal-content .icon-lock {
            font-size: 34px;
            color: #5A9FD6;
            margin-bottom: 12px;
            display: inline-block;
        }
        .modal-content h2 {
            font-size: 22px;
            margin: 0 0 17px 0;
            font-weight: 600;
            color: #1865b1;
            letter-spacing: 0.5px;
        }
        .modal-content input[type="text"],
        .modal-content input[type="password"] {
            padding: 11px 14px;
            font-size: 17px;
            border: 1.5px solid #b4c9e6;
            border-radius: 7px;
            width: 100%;
            margin-bottom: 15px;
            background: #f7fafc;
            transition: border-color 0.2s;
            outline: none;
        }
        .modal-content input[type="text"]:focus,
        .modal-content input[type="password"]:focus {
            border-color: #5A9FD6;
            background: #fafdff;
        }
        .modal-content .remember-row {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            font-size: 15px;
            justify-content: flex-start;
        }
        .modal-content .remember-row label {
            margin: 0 0 0 7px;
            color: #444;
            font-weight: 400;
            padding: 0;
            min-width: unset;
            font-size: 15px;
            text-align: left;
        }
        .modal-content button {
            background: linear-gradient(90deg, #5A9FD6 75%, #78C1E5 100%);
            color: white;
            border: none;
            padding: 11px 0;
            font-size: 18px;
            font-weight: 600;
            border-radius: 7px;
            cursor: pointer;
            width: 100%;
            margin-top: 2px;
            box-shadow: 0 1px 2px rgba(90,159,214,0.08);
            letter-spacing: 0.3px;
            transition: background 0.18s, box-shadow 0.17s;
        }
        .modal-content button:hover {
            background: linear-gradient(90deg, #78C1E5 60%, #5A9FD6 100%);
            box-shadow: 0 2px 8px rgba(90,159,214,0.11);
        }
        .modal-content .error {
            color: #d23131;
            margin-bottom: 12px;
            font-size: 15px;
            background: #fff3f3;
            border-radius: 5px;
            padding: 7px 0;
            letter-spacing: 0.2px;
        }
        .login-footer {
            margin-top: 14px;
            text-align: center;
            color: #a8b5c6;
            font-size: 13.5px;
        }
        @media (max-width: 400px) {
            .modal-content { padding: 18px 4vw 12px 4vw; min-width: unset;}
        }
        @media print {
            body * {
                visibility: hidden;
            }
            #printArea, #printArea * {
                visibility: visible;
            }
            #printArea {
                position: absolute;
                top: 0;
                left: 0;
                width: 100vw;
                background: white;
            }
            .print-details {
                width: 100%;
                max-width: 500px;
                margin: 0 auto 20px auto;
                font-size: 18px;
                background: #f4f7fa;
                border-radius: 10px;
                border: 1px solid #d0d7de;
                padding: 18px 24px 10px 24px;
                color: #223;
                text-align: left;
                line-height: 1.7;
            }
            .print-details span.label {
                display: inline-block;
                min-width: 130px;
                font-weight: bold;
                color: #1754a6;
            }
            .content-box {
                margin: 0 auto 0 auto;
                padding: 28px 18px 18px 18px;
                border: 2px solid #333;
                border-radius: 10px;
                width: 90%;
                max-width: 500px;
                background: #f7faff;
                text-align: center;
            }
            #barcodeContainer {
                margin-top: 20px;
                padding: 20px;
                background: #fff;
                border-radius: 10px;
                box-shadow: 0px 3px 10px rgba(0, 0, 0, 0.12);
                border: 2px solid #333;
                width: 100%;
                max-width: 350px;
                margin-left: auto;
                margin-right: auto;
                overflow: hidden;
            }
            #barcode {
                max-width: 100%;
                max-height: 100%;
            }
            #qrcode {
                display: block;
                margin: 15px auto 0 auto;
            }
        }
    </style>
</head>
<body>
    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="icon-lock">üîí</span>
            <h2>‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</h2>
            <div id="loginError" class="error" style="display:none"></div>
            <input type="text" id="loginUser" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô" autocomplete="username">
            <input type="password" id="loginPass" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô" autocomplete="current-password">
            <div class="remember-row">
                <input type="checkbox" id="rememberMe" style="width:18px;height:18px;vertical-align:middle;">
                <label for="rememberMe">‡∏à‡∏î‡∏à‡∏≥‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</label>
            </div>
            <button onclick="doLogin()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
            <div class="login-footer">‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</div>
        </div>
    </div>
    <div class="container" id="mainContent" style="display:none">
        <div class="header">
            <h1>‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏ï‡∏≥‡∏£‡∏ß‡∏à‡∏†‡∏π‡∏ò‡∏£‡∏û‡∏¢‡∏±‡∏Ñ‡∏Ü‡∏†‡∏π‡∏°‡∏¥‡∏û‡∏¥‡∏™‡∏±‡∏¢</h1>
            <h2>PHAYAKKHAPHUMPHISAI POLICE STATION</h2>
        </div>
        <form id="barcodeForm" onsubmit="event.preventDefault(); generateBarcode();">
            <div class="form-group">
                <label for="ticketNumber">‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡πÉ‡∏ö‡∏™‡∏±‡πà‡∏á:</label>
                <input type="text" id="ticketNumber" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡πÉ‡∏ö‡∏™‡∏±‡πà‡∏á">
            </div>
            <div class="form-group">
                <label for="fineAmount">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡πà‡∏≤‡∏õ‡∏£‡∏±‡∏ö:</label>
                <input type="text" id="fineAmount" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡πà‡∏≤‡∏õ‡∏£‡∏±‡∏ö">
            </div>
            <div class="button-container">
                <button type="button" onclick="generateBarcode()">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏≤‡∏£‡πå‡πÇ‡∏Ñ‡πâ‡∏î</button>
                <button type="button" onclick="printBarcode()">‡∏û‡∏¥‡∏°‡∏û‡πå</button>
            </div>
        </form>
        <div id="barcodeContainer">
            <svg id="barcode"></svg>
            <canvas id="qrcode" width="140" height="140"></canvas>
            <div id="barcodeText" class="barcode-text"></div>
        </div>
        <div class="footer">‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏î‡∏¢ ‡∏™‡∏¥‡∏ö‡∏ï‡∏≥‡∏£‡∏ß‡∏à‡πÄ‡∏≠‡∏Å ‡∏ô‡∏û‡∏£‡∏±‡∏ï‡∏ô‡πå ‡∏ú‡∏¥‡∏ß‡∏ô‡∏ß‡∏•</div>
        <div id="printArea" style="display:none"></div>
    </div>
    <script>
        // ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏µ‡πà‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï (‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏ô‡∏∂‡πà‡∏á user)
        const USERS = [
            { user: "admin", pass: "123456" },
            { user: "1440800241791", pass: "1791" },
            { user: "1401100036461", pass: "6461" }
        ];

        // --- Remember Username Logic ---
        function saveUserToStorage(username) {
            localStorage.setItem('barcode_last_user', username);
        }
        function clearUserFromStorage() {
            localStorage.removeItem('barcode_last_user');
        }
        function loadUserFromStorage() {
            return localStorage.getItem('barcode_last_user') || "";
        }

        // --- Login Logic ---
        function doLogin() {
            const username = document.getElementById('loginUser').value.trim();
            const password = document.getElementById('loginPass').value;
            const errorDiv = document.getElementById('loginError');
            const rememberMe = document.getElementById('rememberMe').checked;
            const found = USERS.find(u => u.user === username && u.pass === password);

            if (!username || !password) {
                errorDiv.innerText = "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô";
                errorDiv.style.display = "block";
                return;
            }
            if (found) {
                errorDiv.style.display = "none";
                if(rememberMe) {
                    saveUserToStorage(username);
                } else {
                    clearUserFromStorage();
                }
                document.getElementById("loginModal").style.display = "none";
                document.getElementById("mainContent").style.display = "block";
            } else {
                errorDiv.innerText = "‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á";
                errorDiv.style.display = "block";
                document.getElementById('loginPass').value = "";
                document.getElementById('loginPass').focus();
            }
        }

        // Enter key ‡∏Å‡∏î‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢
        document.getElementById("loginPass").addEventListener("keyup", function(e) {
            if (e.key === "Enter") doLogin();
        });
        document.getElementById("loginUser").addEventListener("keyup", function(e) {
            if (e.key === "Enter") doLogin();
        });

        // ‡πÇ‡∏´‡∏•‡∏î username ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏à‡∏≤‡∏Å localStorage
        window.onload = function() {
            const savedUser = loadUserFromStorage();
            if(savedUser) {
                document.getElementById("loginUser").value = savedUser;
                document.getElementById("rememberMe").checked = true;
            }
            document.getElementById("loginUser").focus();
        };

        // Barcode/QR code logic
        let lastTicketNumber = "";
        let lastFineAmount = "";
        let lastTimeString = "";

        function generateBarcode() {
            var fixedLine1 = "|099400015904822";
            var ticketNumber = document.getElementById("ticketNumber").value.trim();
            var fineAmount = document.getElementById("fineAmount").value.trim();
            var barcodeFineAmount = fineAmount + "00";
            if (!ticketNumber || !fineAmount) {
                alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô");
                return;
            }
            if (isNaN(fineAmount) || parseInt(fineAmount) <= 0) {
                alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡πà‡∏≤‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
                return;
            }
            var barcodeData = fixedLine1 + "\n" + ticketNumber + "\n\n" + barcodeFineAmount;
            JsBarcode("#barcode", barcodeData, {
                format: "CODE128",
                displayValue: false
            });
            var qr = new QRious({
                element: document.getElementById('qrcode'),
                value: barcodeData,
                size: 140,
                level: 'H'
            });
            var currentDate = new Date();
            var timeString = currentDate.toLocaleString();
            document.getElementById("barcodeText").innerHTML =
                "‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡πÉ‡∏ö‡∏™‡∏±‡πà‡∏á: " + ticketNumber + "<br>" +
                "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡πà‡∏≤‡∏õ‡∏£‡∏±‡∏ö: " + fineAmount + "<br>" +
                "‡πÄ‡∏ß‡∏•‡∏≤: " + timeString;

            // Save data for print
            lastTicketNumber = ticketNumber;
            lastFineAmount = fineAmount;
            lastTimeString = timeString;
        }

        // ‡πÉ‡∏´‡πâ‡∏´‡∏ô‡πà‡∏ß‡∏á‡∏ô‡∏¥‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß (‡πÄ‡∏£‡πá‡∏ß‡∏™‡∏∏‡∏î‡πÅ‡∏ö‡∏ö‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢)
        function printBarcode() {
            if (!lastTicketNumber || !lastFineAmount || !lastTimeString) {
                alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏≤‡∏£‡πå‡πÇ‡∏Ñ‡πâ‡∏î‡∏Å‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏°‡∏û‡πå");
                return;
            }
            var printWindow = window.open("", "_blank");

            function getQrImageDataUrl() {
                return new Promise(resolve => {
                    setTimeout(() => {
                        var qrcodeCanvas = document.getElementById("qrcode");
                        resolve(qrcodeCanvas.toDataURL());
                    }, 60); // ‡πÄ‡∏£‡πá‡∏ß‡∏û‡∏¥‡πÄ‡∏®‡∏© (60ms)
                });
            }

            getQrImageDataUrl().then(qrcodeImgData => {
                // Barcode and QR code
                var barcodeHtml = document.getElementById("barcodeContainer").innerHTML;
                barcodeHtml = barcodeHtml.replace(
                    /<canvas[^>]*id="qrcode"[^>]*>.*?<\/canvas>/i,
                    '<img src="' + qrcodeImgData + '" style="display:block;margin:15px auto 0 auto;width:140px;height:140px;" />'
                );

                var printContent = `
                <html>
                <head>
                    <title>‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏ï‡∏≥‡∏£‡∏ß‡∏à‡∏†‡∏π‡∏ò‡∏£‡∏û‡∏¢‡∏±‡∏Ñ‡∏Ü‡∏†‡∏π‡∏°‡∏¥‡∏û‡∏¥‡∏™‡∏±‡∏¢</title>
                    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500&display=swap" rel="stylesheet">
                    <style>
                        body { font-family: 'Kanit', sans-serif; background: white; margin:0; }
                        .print-details {
                            width: 100%;
                            max-width: 500px;
                            margin: 0 auto 20px auto;
                            font-size: 18px;
                            background: #f4f7fa;
                            border-radius: 10px;
                            border: 1px solid #d0d7de;
                            padding: 18px 24px 10px 24px;
                            color: #223;
                            text-align: left;
                            line-height: 1.7;
                        }
                        .print-details span.label {
                            display: inline-block;
                            min-width: 130px;
                            font-weight: bold;
                            color: #1754a6;
                        }
                        .content-box {
                            margin: 0 auto 0 auto;
                            padding: 28px 18px 18px 18px;
                            border: 2px solid #333;
                            border-radius: 10px;
                            width: 90%;
                            max-width: 500px;
                            background: #f7faff;
                            text-align: center;
                        }
                        #barcodeContainer {
                            margin-top: 20px;
                            padding: 20px;
                            background: #fff;
                            border-radius: 10px;
                            box-shadow: 0px 3px 10px rgba(0, 0, 0, 0.12);
                            border: 2px solid #333;
                            width: 100%;
                            max-width: 350px;
                            margin-left: auto;
                            margin-right: auto;
                            overflow: hidden;
                        }
                        #barcode {
                            max-width: 100%;
                            max-height: 100%;
                        }
                        #qrcode {
                            display: block;
                            margin: 15px auto 0 auto;
                        }
                    </style>
                </head>
                <body>
                    <div class="print-details">
                        <div><span class="label">‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô:</span>‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏ï‡∏≥‡∏£‡∏ß‡∏à‡∏†‡∏π‡∏ò‡∏£‡∏û‡∏¢‡∏±‡∏Ñ‡∏Ü‡∏†‡∏π‡∏°‡∏¥‡∏û‡∏¥‡∏™‡∏±‡∏¢</div>
                        <div><span class="label">‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡πÉ‡∏ö‡∏™‡∏±‡πà‡∏á:</span> ${lastTicketNumber}</div>
                        <div><span class="label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡πà‡∏≤‡∏õ‡∏£‡∏±‡∏ö:</span> ${lastFineAmount} ‡∏ö‡∏≤‡∏ó</div>
                        <div><span class="label">‡∏ß‡∏±‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏≠‡∏Å‡πÉ‡∏ö‡∏™‡∏±‡πà‡∏á:</span> ${lastTimeString}</div>
                        <div><span class="label">‡∏ú‡∏π‡πâ‡∏≠‡∏≠‡∏Å‡πÉ‡∏ö‡∏™‡∏±‡πà‡∏á:</span> </div>
                    </div>
                    <div class="content-box">
                        <h2 style="font-size: 20px; font-weight: bold; margin-bottom: 10px;">‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ä‡∏≥‡∏£‡∏∞‡∏Ñ‡πà‡∏≤‡∏õ‡∏£‡∏±‡∏ö</h2>
                        <p style="font-size: 16px; line-height: 1.6; margin-bottom: 10px; color: #333;">
                            ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ä‡∏≥‡∏£‡∏∞‡∏Ñ‡πà‡∏≤‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏≤‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏∏‡πÉ‡∏ô‡∏ö‡∏≤‡∏£‡πå‡πÇ‡∏Ñ‡πâ‡∏î
                        </p>
                        <div id="barcodeContainer">
                            ${barcodeHtml}
                        </div>
                    </div>
                </body>
                </html>
                `;
                printWindow.document.write(printContent);
                printWindow.document.close();
                printWindow.onload = function() {
                    setTimeout(() => {
                        printWindow.print();
                    }, 100); // ‡πÄ‡∏£‡πá‡∏ß‡∏û‡∏¥‡πÄ‡∏®‡∏© (1ms)
                };
            });
        }
    </script>
</body>
</html>
